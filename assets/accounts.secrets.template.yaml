# assets/accounts.secrets.template.yaml
#
# Copy this file to accounts.secrets.yaml and fill in your values:
#   cp assets/accounts.secrets.template.yaml assets/accounts.secrets.yaml
#
# WARNING: accounts.secrets.yaml is gitignored — never commit it!

# ── LLM configuration ───────────────────────────────────────────────────
# Used for AI-powered follow-up message generation and keyword generation.
# Any OpenAI-compatible provider works (OpenAI, Anthropic, xAI, local, etc.)
env:
  LLM_API_KEY:  sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX  # your API key (required)
  LLM_API_BASE: https://api.anthropic.com/v1  # provider base URL (e.g. https://api.openai.com/v1, https://api.x.ai/v1/)
  AI_MODEL:     claude-opus-4-6                # model identifier to use for LLM calls

# ── Campaign settings ────────────────────────────────────────────────────
# Controls rate limits, timing, and behavior for each daemon lane.
# The daemon priority-schedules 4 lanes: check_pending > follow_up > connect (+ enrich as gap-filler)
campaign:

  # Connection requests — sends invites to ML-ranked ENRICHED profiles
  connect:
    daily_limit: 20    # max connection requests per day (resets at midnight)
    weekly_limit: 100  # max connection requests per week (resets on Monday)

  # Pending check — polls PENDING profiles to see if they accepted
  check_pending:
    recheck_after_hours: 24  # wait at least N hours after sending a request before checking

  # Follow-up messages — sends a message to newly CONNECTED profiles
  follow_up:
    daily_limit: 30          # max follow-up messages per day (resets at midnight)
    # existing_connections controls pre-existing connections (people already connected
    # before the automation ran):
    #   false = mark them as IGNORED (skip them entirely)
    #   true  = send follow-up messages to all connections, including pre-existing ones
    existing_connections: false

  # Minimum seconds between major actions (connect, follow_up).
  # Rate limiters still enforce daily/weekly caps independently.
  min_action_interval: 120

  # Minimum seconds between enrichment API calls (floor for gap-filling)
  enrich_min_interval: 1

  # Qualification — online Bayesian active learning
  # BALD selects the most informative profile to label; predictive entropy
  # decides whether the model is confident enough to auto-decide or query LLM.
  qualification:
    entropy_threshold: 0.3       # predictive entropy below this → auto-decide (range 0–0.693)
    prior_precision: 1.0         # Gaussian prior strength (higher = more conservative)
    n_mc_samples: 100            # Monte Carlo samples for uncertainty estimation
    embedding_model: BAAI/bge-small-en-v1.5  # fastembed model for profile embeddings

  # Working hours — the daemon only runs within this window.
  # Outside it the daemon sleeps. Uses OS local timezone.
  working_hours:
    start: "09:00"
    end: "18:00"

# ── Accounts ─────────────────────────────────────────────────────────────
# Define one or more LinkedIn accounts. The daemon picks the first active one
# The daemon picks the first active one.
# Add multiple accounts by repeating the block with a different key name.
accounts:
  jane_doe_main:
    active: true                    # set false to disable this account without removing it
    username: jane.doe@gmail.com    # LinkedIn login email
    password: SuperSecret123!       # LinkedIn password

    subscribe_newsletter:           # true = receive OpenOutreach updates; false or empty = no thanks
                                    # Auto-enabled for accounts in non-GDPR jurisdictions (detected from LinkedIn location on first run).
                                    # Set explicitly to override auto-detection.

    # Follow-up message template (relative to assets/)
    # Jinja2 templates live in templates/messages/, AI prompt templates in templates/prompts/
    followup_template: templates/messages/followup.j2

    # Template engine: "jinja" for Jinja2 template rendering,
    # "ai_prompt" for LLM-generated messages (uses the LLM config above)
    followup_template_type: jinja

    # A link included in follow-up messages (e.g. your calendar booking page)
    booking_link: https://github.com/eracle/OpenOutreach/